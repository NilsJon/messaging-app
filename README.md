# Simple Messaging App

A bare‑bones clone of Facebook Messenger / WhatsApp built for a take‑home assignment.
The goal is **code quality and real‑time behaviour**, not pixel‑perfect design or enterprise‑grade security.

---

## 📦 Tech Stack

| Layer | Tech | Why |
|-------|------|-----|
| Front‑end | **React 18 + TypeScript + Vite** | Fast dev server, strong typing |
| Styling/UI | **Tailwind CSS 3**  +  **shadcn/ui** | Utility‑first & pre‑built accessible components |
| Data fetching | **tRPC v11 + React‑Query** | End‑to‑end type‑safe API, zero schema files |
| Real‑time | **tRPC subscriptions over WebSocket** | Instant push of new messages |
| Back‑end | **Node 20 + Express + tRPC** | Minimal boilerplate |
| ORM | **Prisma** → PostgreSQL | Schema as code, migrations, TypeScript types |
| DB | **PostgreSQL 16 (Docker)** | Battle‑tested RDBMS |

---

## 🚀 Quick Start (local dev)

### 1. Install + Database
```bash
# at repo root
npm i
docker compose up -d db
```

### 2. Back‑end
```bash
cd server

# run migrations & generate Prisma client
npx prisma migrate deploy

# seed demo users
npx ts-node prisma/seed.ts

# start dev server
npx ts-node src/server.ts
```

### 3. Front‑end
```bash
cd ../web
npm run dev
```
Navigate to http://localhost:5173 — you’ll land on the Login screen.

---

## 🔑 Demo Credentials (from seed script)

| id | username  | password      |
|----|-----------|---------------|
| 1  | **alice** | `password123` |
| 2  | **bob**   | `password456` |
| 2  | **nils**  | `password789` |

*Log in as either user in two browser windows to see real‑time chat across sessions.*

---

## 💬 Starting a Chat

1. **Log in** as *alice* *bob* or *nils*.
2. Click the **“+new chat”** field in the left sidebar.
3. **Type another user’s username** (e.g.`bob`) and press **Enter** or the `+` button.
4. A new thread appears instantly and is auto‑selected.
5. Type your message in the composer at the bottom and hit **Send** — it pops up in the other user’s window in real time.

---

## ⚙️ Environment Variables

The only required variable is `DATABASE_URL` in `server/.env` (auto‑generated by `prisma init`).  The default matches the docker‑compose service:
```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/messaging_app"
```
---

Happy chatting! 🚀

