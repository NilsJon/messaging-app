# Simple Messaging App

A bareâ€‘bones clone of Facebook Messenger / WhatsApp built for a takeâ€‘home assignment.
The goal is **code quality and realâ€‘time behaviour**, not pixelâ€‘perfect design or enterpriseâ€‘grade security.

---

## ğŸ“¦ Tech Stack

| Layer | Tech | Why |
|-------|------|-----|
| Frontâ€‘end | **React 18 + TypeScript + Vite** | Fast dev server, strong typing |
| Styling/UI | **Tailwind CSS 3**  +  **shadcn/ui** | Utilityâ€‘first & preâ€‘built accessible components |
| Data fetching | **tRPC v11 + Reactâ€‘Query** | Endâ€‘toâ€‘end typeâ€‘safe API, zero schema files |
| Realâ€‘time | **tRPC subscriptions over WebSocket** | Instant push of new messages |
| Backâ€‘end | **Node 20 + Express + tRPC** | Minimal boilerplate |
| ORM | **Prisma** â†’ PostgreSQL | Schema as code, migrations, TypeScript types |
| DB | **PostgreSQL 16 (Docker)** | Battleâ€‘tested RDBMS |

---

## ğŸš€ Quick Start (local dev)

### 1. Install + Database
```bash
# at repo root
npm i
docker compose up -d db
```

### 2. Backâ€‘end
```bash
cd server

# run migrations & generate Prisma client
npx prisma migrate deploy

# seed demo users
npx ts-node prisma/seed.ts

# start dev server
npx ts-node src/server.ts
```

### 3. Frontâ€‘end
```bash
cd ../web
npm run dev
```
Navigate to http://localhost:5173 â€” youâ€™ll land on the Login screen.

---

## ğŸ”‘ Demo Credentials (from seed script)

| id | username  | password      |
|----|-----------|---------------|
| 1  | **alice** | `password123` |
| 2  | **bob**   | `password456` |
| 2  | **nils**  | `password789` |

*Log in as either user in two browser windows to see realâ€‘time chat across sessions.*

---

## ğŸ’¬ Starting a Chat

1. **Log in** as *alice* *bob* or *nils*.
2. Click the **â€œ+new chatâ€** field in the left sidebar.
3. **Type another userâ€™s username** (e.g.`bob`) and press **Enter** or the `+` button.
4. A new thread appears instantly and is autoâ€‘selected.
5. Type your message in the composer at the bottom and hit **Send** â€” it pops up in the other userâ€™s window in real time.

---

## âš™ï¸ Environment Variables

The only required variable is `DATABASE_URL` in `server/.env` (autoâ€‘generated by `prisma init`).  The default matches the dockerâ€‘compose service:
```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/messaging_app"
```
---

Happy chatting! ğŸš€

